{% extends "admin/layout.html" %}

{% block content %}
<script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
  <link rel="shortcut icon" href="{{ url_for('static', filename='ico/ico.ico') }}" type="image/x-icon">
<div class="min-h-[90vh] max-w-[1200px] mx-auto p-4 md:p-10 space-y-12 animate-in fade-in zoom-in duration-1000">
    
    <div class="flex flex-col md:flex-row justify-between items-center gap-8 border-b border-white/5 pb-10">
<div class="text-center md:text-left">
    <h1 class="text-5xl md:text-8xl font-black text-white tracking-tighter">
        <span id="saludo-texto">Hola</span>, 
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-sky-600">
            {{ current_user.usu_nombre.split(' ')[0] | title }}
        </span>
        <span class="text-sky-500">.</span>
    </h1>

    <div class="mt-6 min-h-[80px]">
        <p class="text-slate-300 text-xl md:text-3xl font-light tracking-tight">
            Bienvenido al <span class="text-white font-semibold">centro de mando</span>.
        </p>
        <p class="text-sky-400 text-lg md:text-2xl font-bold mt-2">
            <span id="typed-text"></span>
        </p>
    </div>

    <p class="text-slate-500/60 text-sm md:text-base font-medium italic mt-4 border-l-2 border-sky-500/30 pl-4">
        "El éxito no es el final, sino la constancia de optimizar cada minuto."
    </p>
</div>

        <div class="relative group">
            <div class="absolute -inset-1 bg-gradient-to-r from-sky-500 to-indigo-500 rounded-3xl blur opacity-20 group-hover:opacity-40 transition duration-1000"></div>
            <div class="relative bg-slate-950 border border-white/10 px-10 py-6 rounded-[2rem] flex flex-col items-center min-w-[280px]">
                <span id="current-time" class="text-4xl md:text-5xl font-black text-white tabular-nums tracking-tight">
                    12:00 AM
                </span>
                <span id="current-date" class="text-sky-500 font-bold uppercase text-[10px] tracking-[0.3em] mt-2 text-center">
                    CARGANDO FECHA...
                </span>
            </div>
        </div>
    </div>

    <div class="relative">
        <div class="absolute -left-20 top-1/2 -translate-y-1/2 w-64 h-64 bg-sky-500/10 rounded-full blur-[100px]"></div>
        
        <div class="glass-card rounded-[3rem] border border-white/10 shadow-2xl overflow-hidden group relative">
            <div class="relative overflow-hidden">
                <img 
                    src="https://agendapp.co/agendapp.jpg" 
                    alt="Comunicado Agendapp" 
                    class="w-full h-auto min-h-[400px] object-cover transition-transform duration-[3000ms] group-hover:scale-105"
                >
                
                <div class="absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/40 to-transparent"></div>
                
                <div class="absolute top-6 right-6">
                    <div class="bg-white/10 backdrop-blur-md border border-white/20 px-4 py-2 rounded-2xl">
                        <span class="text-white text-xs font-black tracking-widest uppercase">Novedades 2026</span>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<script>
    function updateDateTime() {
        const now = new Date();
        
        // --- LÓGICA DE HORA (Formato 12 Horas) ---
        let hours = now.getHours();
        const minutes = now.getMinutes().toString().padStart(2, '0');
        const ampm = hours >= 12 ? 'PM' : 'AM';
        
        // Saludo dinámico según la hora
        let saludo = "Hola";
        if (hours >= 5 && hours < 12) saludo = "Buenos días";
        else if (hours >= 12 && hours < 18) saludo = "Buenas tardes";
        else saludo = "Buenas noches";
        
        hours = hours % 12;
        hours = hours ? hours : 12; // Si es 0, poner 12
        const hoursStr = hours.toString().padStart(2, '0');

        const timeStr = `${hoursStr}:${minutes} ${ampm}`;
        
        // --- LÓGICA DE FECHA ---
        const options = { weekday: 'long', day: 'numeric', month: 'long' };
        const dateStr = now.toLocaleDateString('es-ES', options);

        // Inyectar datos en el HTML
        document.getElementById('current-time').innerText = timeStr;
        document.getElementById('current-date').innerText = dateStr.toUpperCase();
        document.getElementById('saludo-texto').innerText = saludo;
    }

    // Actualización cada segundo para el reloj
    setInterval(updateDateTime, 1000);
    // Ejecución inmediata al cargar
    updateDateTime();



document.addEventListener('DOMContentLoaded', function() {
        // --- LÓGICA DEL EFECTO DE LETRAS (Typed.js) ---
        new Typed('#typed-text', {
            strings: [
                'ΛgendΛpp, te reserva mientras descansas.',
                'ΛgendΛpp, te soluciona el cruce de agendas.',
                'ΛgendΛpp, te hace fidelización a tus clientes.',
                'ΛgendΛpp, tu socio estratégico.',
                'ΛgendΛpp optimiza tu tiempo.',
            ],
            typeSpeed: 50,      // Velocidad al escribir
            backSpeed: 30,      // Velocidad al borrar
            backDelay: 2000,    // Tiempo que se queda la frase antes de borrarse
            loop: true,         // Que se repita siempre
            showCursor: true,
            cursorChar: '|'
        });

        // --- LÓGICA DE RELOJ Y SALUDO (Tu código anterior) ---
        function updateDateTime() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            
            let saludo = "Hola";
            if (hours >= 5 && hours < 12) saludo = "Buenos días";
            else if (hours >= 12 && hours < 18) saludo = "Buenas tardes";
            else saludo = "Buenas noches";
            
            hours = hours % 12 || 12;
            const hoursStr = hours.toString().padStart(2, '0');

            document.getElementById('current-time').innerText = `${hoursStr}:${minutes} ${ampm}`;
            document.getElementById('current-date').innerText = now.toLocaleDateString('es-ES', { 
                weekday: 'long', day: 'numeric', month: 'long' 
            }).toUpperCase();
            document.getElementById('saludo-texto').innerText = saludo;
        }

        setInterval(updateDateTime, 1000);
        updateDateTime();
    });


</script>

<style>
    /* Efecto de Vidrio para la tarjeta */
    .glass-card {
        background: rgba(255, 255, 255, 0.02);
        backdrop-filter: blur(12px);
    }
    
    /* Suavizado de fuentes */
    body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
</style>
{% endblock %}